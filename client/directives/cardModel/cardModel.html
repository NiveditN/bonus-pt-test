<div>{{model.name}} (side: {{activeSide}})</div>

<!-- FRONT -->
<div ng-if="activeSide">
	<div style="position:relative; width:500px; height:300px; box-shadow:2px 2px 2px #888888;">
		<card-element element="activeSide ? model.background[0] : model.background[1]" 		
			ng-style="activeSide ? model.background[0].style : model.background[1].style"
			type="'background'" 
			style="position:absolute; width: 100%; height: 100%">			
		</card-element>
		<div ng-repeat="text in model.texts | filter:{ side: activeSide }">
			<card-element element="text" type="'text'"></card-element>
		</div>
		<div ng-repeat="image in model.images | filter:{ side: activeSide }">
			<card-element element="image" type="'image'"></card-element>
		</div>	
		<div ng-repeat="field in model.fields | filter:{ side: activeSide }">
			<card-element element="field" type="'field'"></card-element>
		</div>
		<div ng-repeat="(name, rule) in model.rules | objectFilter:'side':true">
			<card-element element="rule" type="'rule'" name="name"></card-element>
		</div>
	</div>
</div>

<!-- BACK -->
<div ng-if="!activeSide" >
	<div style="position:relative; width:500px; height:300px; box-shadow:2px 2px 2px #888888;">
		<card-element element="activeSide ? model.background[0] : model.background[1]" 		
			ng-style="activeSide ? model.background[0].style : model.background[1].style"
			type="'background'" 
			style="position:absolute; width: 100%; height: 100%">			
		</card-element>
		<div ng-repeat="text in model.texts | filter:{ side: activeSide }">
			<card-element element="text" type="'text'"></card-element>
		</div>
		<div ng-repeat="image in model.images | filter:{ side: activeSide }">
			<card-element element="image" type="'image'"></card-element>
		</div>	
		<div ng-repeat="field in model.fields | filter:{ side: activeSide }">
			<card-element element="field" type="'field'"></card-element>
		</div>
		<div ng-repeat="(name, rule) in model.rules | objectFilter:'side':false">
			<card-element element="rule" type="'rule'" name="name"></card-element>
		</div>
	</div>
</div>

